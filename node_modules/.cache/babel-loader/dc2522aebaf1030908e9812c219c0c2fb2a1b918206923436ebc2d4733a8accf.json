{"ast":null,"code":"import axios from'../api/axios';import useAuth from'./useAuth';const useRefreshToken=()=>{const{setAuth}=useAuth();const refresh=async()=>{const response=await axios.get('/refresh',{withCredentials:true});setAuth(prev=>{console.log(JSON.stringify(prev));console.log(response.data.accessToken);return{...prev,accessToken:response.data.accessToken};});return response.data.accessToken;};return refresh;};export default useRefreshToken;","map":{"version":3,"names":["axios","useAuth","useRefreshToken","setAuth","refresh","response","get","withCredentials","prev","console","log","JSON","stringify","data","accessToken"],"sources":["C:/Users/nguem/IdeaProjects/tradeadviser/src/hooks/useRefreshToken.js"],"sourcesContent":["import axios from '../api/axios';\nimport useAuth from './useAuth';\n\nconst useRefreshToken = () => {\n    const { setAuth } = useAuth();\n\n    const refresh = async () => {\n        const response = await axios.get('/refresh', {\n            withCredentials: true\n        });\n        setAuth(prev => {\n            console.log(JSON.stringify(prev));\n            console.log(response.data.accessToken);\n            return { ...prev, accessToken: response.data.accessToken }\n        });\n        return response.data.accessToken;\n    }\n    return refresh;\n};\n\nexport default useRefreshToken;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,cAAc,CAChC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAE/B,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,OAAQ,CAAC,CAAGF,OAAO,CAAC,CAAC,CAE7B,KAAM,CAAAG,OAAO,CAAG,KAAAA,CAAA,GAAY,CACxB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,KAAK,CAACM,GAAG,CAAC,UAAU,CAAE,CACzCC,eAAe,CAAE,IACrB,CAAC,CAAC,CACFJ,OAAO,CAACK,IAAI,EAAI,CACZC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC,CACjCC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACQ,IAAI,CAACC,WAAW,CAAC,CACtC,MAAO,CAAE,GAAGN,IAAI,CAAEM,WAAW,CAAET,QAAQ,CAACQ,IAAI,CAACC,WAAY,CAAC,CAC9D,CAAC,CAAC,CACF,MAAO,CAAAT,QAAQ,CAACQ,IAAI,CAACC,WAAW,CACpC,CAAC,CACD,MAAO,CAAAV,OAAO,CAClB,CAAC,CAED,cAAe,CAAAF,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}