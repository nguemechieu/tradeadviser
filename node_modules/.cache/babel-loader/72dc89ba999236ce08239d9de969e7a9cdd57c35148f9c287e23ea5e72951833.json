{"ast":null,"code":"import axios from'../api/axios';import useAuth from'./useAuth';const useRefreshToken=()=>{const{setAuth}=useAuth();return async()=>{const response=await axios.get('/refresh',{withCredentials:true});setAuth(prev=>{console.log(JSON.stringify(prev));console.log(response.data.accessToken);return{...prev,accessToken:response.data.accessToken};});return response.data.accessToken;};};export default useRefreshToken;","map":{"version":3,"names":["axios","useAuth","useRefreshToken","setAuth","response","get","withCredentials","prev","console","log","JSON","stringify","data","accessToken"],"sources":["C:/Users/nguem/IdeaProjects/tradeadviser/src/hooks/useRefreshToken.js"],"sourcesContent":["import axios from '../api/axios';\r\nimport useAuth from './useAuth';\r\n\r\nconst useRefreshToken = () => {\r\n    const { setAuth } = useAuth();\r\n\r\n    return async () => {\r\n        const response = await axios.get('/refresh', {\r\n            withCredentials: true\r\n        });\r\n        setAuth(prev => {\r\n            console.log(JSON.stringify(prev));\r\n            console.log(response.data.accessToken);\r\n            return {...prev, accessToken: response.data.accessToken}\r\n        });\r\n        return response.data.accessToken;\r\n    };\r\n};\r\n\r\nexport default useRefreshToken;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,cAAc,CAChC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAE/B,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,OAAQ,CAAC,CAAGF,OAAO,CAAC,CAAC,CAE7B,MAAO,UAAY,CACf,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAJ,KAAK,CAACK,GAAG,CAAC,UAAU,CAAE,CACzCC,eAAe,CAAE,IACrB,CAAC,CAAC,CACFH,OAAO,CAACI,IAAI,EAAI,CACZC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC,CACjCC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACQ,IAAI,CAACC,WAAW,CAAC,CACtC,MAAO,CAAC,GAAGN,IAAI,CAAEM,WAAW,CAAET,QAAQ,CAACQ,IAAI,CAACC,WAAW,CAAC,CAC5D,CAAC,CAAC,CACF,MAAO,CAAAT,QAAQ,CAACQ,IAAI,CAACC,WAAW,CACpC,CAAC,CACL,CAAC,CAED,cAAe,CAAAX,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}